{% extends 'index.html' %}

{% block title %}
    <title>카페인 사진첩</title>
{% endblock %}
{% block style %}
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
          crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet"
          type="text/css">
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
            integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
            integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
            crossorigin="anonymous"></script>
    <!-- Linear Icons -->
    <link rel="stylesheet" href="https://cdn.linearicons.com/free/1.0.0/icon-font.min.css">
{% endblock %}
{% block content %}
    <div class="container mt-150">
        <ul class="nav nav-tabs">
            <li class="nav-item">
                <a id="a-photos" class="nav-link active" href="#">사진</a>
            </li>
            <li class="nav-item">
                <a id="a-albums" class="nav-link" href="#">사진첩</a>
            </li>
            <li class="nav-item">
                <a class="nav-link disabled" href="#">동영상(Coming soon)</a>
            </li>

            <li class="nav-pills">
                <a class="nav-link" href="#"> <span class="lnr lnr-plus-circle"></span> 사진첩 만들기</a>
            </li>
            <li class="nav-pills">
                <a class="nav-link"  href="#"> <span class="lnr lnr-plus-circle"></span> 사진 추가</a>
            </li>
        </ul>
    </div>
    <div id="div-media-container" class="container">

    </div>

{% endblock %}

{% block javascript %}
    <script type="text/javascript">
        $(document).ready(function () {
            $.ajax({
                url: '{% url 'photo_albums:photos-list' %}',
                method: 'get',
                success: function (data) {
                    $("#div-media-container").html(data)
                }
            })

            $('#a-albums').on('click', function () {
                $.ajax({
                    url: '{% url 'photo_albums:albums-list' %}',
                    method: 'get',
                    success: function (data) {
                        $('#a-photos').removeClass('active')
                        $(this).addClass('active')
                        $("#div-media-container").html(data)
                    },
                    fail: function (data) {
                        alert('오류가 발생했습니다. 잠시후에 시도해주세요.')
                    }
                })
            })
            $('#a-photos').on('click', function () {
                $.ajax({
                    url: '{% url 'photo_albums:photos-list' %}',
                    method: 'get',
                    success: function (data) {
                        $('#a-albums').removeClass('active')
                        $(this).addClass('active')
                        $("#div-media-container").html(data)
                    },
                    fail: function (data) {
                        alert('오류가 발생했습니다. 잠시후에 시도해주세요.')
                    }
                })
            })
        })
    </script>
{% endblock %}